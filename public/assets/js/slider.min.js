document.addEventListener("DOMContentLoaded",()=>{let e,t=document.getElementById("site-slider");if(!t)return;let n=document.getElementById("slides-container"),i=document.querySelectorAll(".slide-item"),s=document.getElementById("prev-slide"),a=document.getElementById("next-slide"),l=document.getElementById("pagination-dots"),o=i.length>1,r=i.length,d=o?1:0,c=!1,h=0,u=0,g=0,m=!1,y="true"===t.dataset.autoplay,p=parseInt(t.dataset.autoplaySpeed,10)||5e3,v={heightBase:t.dataset.heightBase||"500px",heightSm:t.dataset.heightSm||"550px",heightMd:t.dataset.heightMd||"600px",heightLg:t.dataset.heightLg||"650px",heightXl:t.dataset.heightXl||"700px",overlayColor:t.dataset.overlayColor||"#000000",overlayOpacity:t.dataset.overlayOpacity||"40"};function f(){const e=`\n            /* Base height */\n            #site-slider {\n                height: ${v.heightBase};\n            }\n            \n            /* Responsive heights */\n            @media (min-width: 640px) {\n                #site-slider { height: ${v.heightSm}; }\n            }\n            @media (min-width: 768px) {\n                #site-slider { height: ${v.heightMd}; }\n            }\n            @media (min-width: 1024px) {\n                #site-slider { height: ${v.heightLg}; }\n            }\n            @media (min-width: 1280px) {\n                #site-slider { height: ${v.heightXl}; }\n            }\n\n            /* Ensure slide items take full height */\n            #site-slider .slide-item {\n                height: 100%;\n                min-height: 100%;\n            }\n\n            /* Ensure slides container takes full height */\n            #slides-container {\n                height: 100%;\n            }\n\n            /* Dynamic overlay styles */\n            .hero-overlay {\n                background-color: ${v.overlayColor};\n                opacity: ${parseInt(v.overlayOpacity)/100};\n                pointer-events: none;\n            }\n\n            /* Ensure background images cover properly */\n            .slide-item.bg-cover {\n                background-size: cover;\n                background-position: left center;\n                background-repeat: no-repeat;\n            }\n\n            /* Additional styling for better performance */\n            .slide-item {\n                will-change: transform;\n                backface-visibility: hidden;\n            }\n\n            /* Disable transitions during instant jumps */\n            .no-transition {\n                transition: none !important;\n            }\n        `;if(!document.getElementById("slider-dynamic-styles")){let t=document.createElement("style");t.id="slider-dynamic-styles",t.textContent=e,document.head.appendChild(t)}i.forEach((e,t)=>{e.style.height="100%",e.style.minHeight="100%",e.classList.contains("bg-cover")||e.classList.add("bg-cover","bg-center","bg-no-repeat");let n=e.querySelector('.hero-overlay, [class*="hero-overlay"]');n&&(n.style.backgroundColor=v.overlayColor,n.style.opacity=parseInt(v.overlayOpacity)/100,n.style.pointerEvents="none")})}let L=(e=!1)=>{let t=`translateX(${-("rtl"===document.dir?-1:1)*(o?d:0)*100}%)`;e?(n.classList.add("no-transition"),n.style.transform=t,setTimeout(()=>{n.classList.remove("no-transition")},50)):(n.classList.remove("no-transition"),n.style.transform=t),n.style.willChange="transform",(o&&l||!o&&l)&&x(),s&&a&&k()};function E(){o?(c=!1,0===d?(d=r,L(!0)):d===r+1&&(d=1,L(!0))):c=!1}let b=()=>{o&&!c&&(c=!0,d-=1,L(),B())},w=()=>{o&&!c&&(c=!0,d+=1,L(),B())},x=()=>{if(l){l.innerHTML="";for(let e=0;e<r;e++){let t=document.createElement("button");t.classList.add("h-4","w-4","rounded-full","transition-colors","duration-300","ease-in-out"),t.setAttribute("aria-label",`Go to slide ${e+1}`);let n=!1;o?(d===e+1||0===d&&e===r-1||d===r+1&&0===e)&&(n=!0):n=0===e,n?t.classList.add("bg-white"):t.classList.add("bg-white","bg-opacity-25"),o?t.addEventListener("click",()=>I(e+1)):t.addEventListener("click",()=>I(e)),l.appendChild(t)}}},I=e=>{c||(c=!0,d=e,L(),B())},k=()=>{s&&a&&(o?(s.style.display="flex",a.style.display="flex"):(s.style.display="none",a.style.display="none"))},C=()=>{y&&o&&(e=setInterval(()=>{w()},p))},B=()=>{y&&o&&(clearInterval(e),C())};function S(){document.querySelectorAll("#site-slider .container").forEach(function(e){["flex","items-center","justify-center","relative","z-20"].forEach(function(t){e.classList.contains(t)||e.classList.add(t)}),e.style.height="100%",e.style.minHeight="100%"}),document.querySelectorAll("#site-slider .slide-item").forEach(function(e){e.classList.contains("flex")||e.classList.add("flex"),e.style.height="100%",e.style.minHeight="100%"})}function M(){f()}s&&s.addEventListener("click",b),a&&a.addEventListener("click",w),n&&n.addEventListener("transitionend",E),n&&o&&(n.addEventListener("touchstart",t=>{m=!0,h=t.touches[0].clientX,u=t.touches[0].clientY,clearInterval(e)},{passive:!0}),n.addEventListener("touchmove",e=>{if(!m)return;let t=e.touches[0].clientX,n=e.touches[0].clientY,i=t-h,s=n-u;Math.abs(i)>Math.abs(s)&&(e.preventDefault(),g=t)},{passive:!1}),n.addEventListener("touchend",()=>{if(!m)return;m=!1;let e=h-g;Math.abs(e)>50&&(e>0?w():b()),B()})),n&&(n.className="",n.classList.add("flex","duration-700","ease-in-out","relative","z-10")),function(){if(!o)return;let e=i[0].cloneNode(!0);e.classList.add("slide-clone"),n.appendChild(e);let t=i[i.length-1].cloneNode(!0);t.classList.add("slide-clone"),n.insertBefore(t,i[0]),i=document.querySelectorAll(".slide-item")}(),f(),i.forEach(e=>{const t=window.getComputedStyle(e).backgroundImage;if(t&&"none"!==t){const e=t.slice(4,-1).replace(/"/g,"");e&&"none"!==e&&((new Image).src=e)}}),L(!0),C(),S(),window.addEventListener("resize",M);var $=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.length>0&&(S(),f())})});$.observe(document.body,{childList:!0,subtree:!0}),window.sliderCleanup=function(){clearInterval(e),window.removeEventListener("resize",M),n&&n.removeEventListener("transitionend",E),$.disconnect()}});